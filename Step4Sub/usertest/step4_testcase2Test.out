;IR CODE
;LABEL main
;LINK
;STOREI 1 a
;STOREI 1 b
;LABEL label1
;STOREI 80 $T1
;GTI a $T1 label2
;STOREI 1 $T2
;NEI b $T2 label3
;MULTI 1 a $T3
;STOREI $T3 g
;WRITEI g
;WRITES newline
;LABEL label3
;STOREI 2 $T4
;NEI b $T4 label4
;MULTI 2 a $T5
;STOREI $T5 p
;WRITEI p
;WRITES newline
;LABEL label4
;STOREI 3 $T6
;NEI b $T6 label5
;MULTI 3 a $T7
;STOREI $T7 k
;WRITEI k
;WRITES newline
;JUMP label6
;LABEL label5
;MULTI 4 a $T8
;STOREI $T8 u
;WRITEI u
;WRITES newline
;LABEL label6
;ADDI b 1 $T9
;STOREI $T9 b
;ADDI a 20 $T10
;STOREI $T10 a
;JUMP label1
;LABEL label2
;RET
;tiny code
var a
var b
var k
var g
var p
var u
str newline "\n"
label main
move 1 a
move 1 b
label label1
move 80 r1
cmpi a r1
jgt label2
move 1 r2
cmpi b r2
jne label3
move 1 r3
muli a r3
move r3 g
sys writei g
sys writes newline
label label3
move 2 r4
cmpi b r4
jne label4
move 2 r5
muli a r5
move r5 p
sys writei p
sys writes newline
label label4
move 3 r6
cmpi b r6
jne label5
move 3 r7
muli a r7
move r7 k
sys writei k
sys writes newline
jmp label6
label label5
move 4 r8
muli a r8
move r8 u
sys writei u
sys writes newline
label label6
move b r9
addi 1 r9
move r9 b
move a r10
addi 20 r10
move r10 a
jmp label1
label label2
sys halt
